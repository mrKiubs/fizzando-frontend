<a
  [routerLink]="['/ingredients', getIngredientId(ingredient)]"
  class="ingredient-card-link"
  [@cardAnimation]
>
  <div class="glass-card ingredient-layout">
    <div class="image-wrapper">
      <picture>
        <!-- Preferisci WebP (una sola sorgente piccola) -->
        <source
          [srcset]="webpSrc(ingredient.image)"
          type="image/webp"
          sizes="60px"
        />

        <!-- Fallback JPG/PNG singolo -->
        <img
          [src]="getIngredientCardImageUrl(ingredient.image)"
          [alt]="ingredient.name || ''"
          [attr.loading]="priority ? 'eager' : 'lazy'"
          [attr.fetchpriority]="priority ? 'high' : 'low'"
          decoding="async"
          width="60"
          height="60"
        />
      </picture>
    </div>

    <div class="ingredient-details">
      <h3 class="ingredient-name no-color">{{ ingredient.name }}</h3>
      <p class="ingredient-type">{{ ingredient.ingredient_type || "" }}</p>
    </div>
  </div>
</a>
